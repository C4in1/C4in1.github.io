<!DOCTYPE html>
<html 
	lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		
<link rel="stylesheet" href="/css/layout.css">

		
		<title> javascript面筋 -  C4iN&#39;s Caprice</title>
		<!-- <link rel="stylesheet" href="https://unpkg.com/mdui@1.0.2/dist/css/mdui.min.css" /> -->
		<!-- <script src="https://unpkg.com/mdui@1.0.2/dist/js/mdui.min.js"></script> -->
		
<link rel="stylesheet" href="/lib/mdui/mdui.min.css">

		
<script src="/lib/mdui/mdui.min.js"></script>

		<!-- lazyload -->
		
<script src="/lib/lazysizes.js"></script>

		<!-- smooth-scrolling -->
		
<script src="/lib/smooth-scrolling.js"></script>

		<!-- highlight -->
		
<link rel="stylesheet" href="/lib/highlight/atom-one-dark.min.css">

		
<script src="/lib/highlight/highlight.min.js"></script>

		<!-- 预置 kiraicon -->
		
<link rel="stylesheet" href="/lib/iconfont/iconfont.css">

		
		<link
			rel="shortcut icon"
			href="https://pic.imgdb.cn/item/6693875ad9c307b7e98b4288.gif"
			type="image/gif"
		/>
		
<link rel="stylesheet" href="/deps/css/APlayer.min.css">

		
		
<script src="/deps/js/APlayer.min.js"></script>
<script src="/deps/js/Meting.min.js"></script>

	<meta name="generator" content="Hexo 6.3.0"></head>

	<body>
		<div
			class="kira-background"
			style="background-image: url('https://pic.imgdb.cn/item/66b458ffd9c307b7e9aadb03.png')"
		></div>
		<div class="kira-header">
    <a
        class="kira-drawer-button mdui-ripple"
        title="导航栏"
        onclick="document.querySelector('.kira-sidebar-modal').classList.add('show');document.querySelector('.kira-sidebar#sidebar').classList.add('show');"
    >
        <i class="kirafont icon-menu"></i>
    </a>
    <a href="/" title="C4iN&#39;s Caprice">
        <img
			src="https://pic.imgdb.cn/item/66b45933d9c307b7e9ab0715.png"
			alt="破酥 | C4iN"
		/>
    </a>
</div>
		<div class="kira-body">
			<div class="kira-sidebar" id="sidebar">
	<div class="kira-avatar mdui-ripple">
		<a target="_blank" rel="noopener" href="https://pic.imgdb.cn/item/66b45933d9c307b7e9ab0715.png" title="破酥 | C4iN">
			<img
				src="https://pic.imgdb.cn/item/66b45933d9c307b7e9ab0715.png"
				alt="破酥 | C4iN"
			/>
		</a>
	</div>
	<div class="kira-count">
		<div><span>文章</span>22</div>
		<div><span>标签</span>22</div>
		<div><span>分类</span>8</div>
	</div>
	<div class="kira-list">
		
		<a
			class="kira-list-item mdui-ripple false"
			href="/"
			title="回到首页"
		>
			<i
				class="kirafont
					
						icon-home
					"
			></i>
			<div class="kira-list-item-content">
				回到首页
			</div>
		</a>
		
		<a
			class="kira-list-item mdui-ripple false"
			href="/archive"
			title="文章归档"
		>
			<i
				class="kirafont
					
						icon-container
					"
			></i>
			<div class="kira-list-item-content">
				文章归档
			</div>
		</a>
		
		<a
			class="kira-list-item mdui-ripple false"
			href="/about"
			title="关于本人"
		>
			<i
				class="kirafont
					
						icon-user
					"
			></i>
			<div class="kira-list-item-content">
				关于本人
			</div>
		</a>
		
		<a
			class="kira-list-item mdui-ripple false"
			href="/friends"
			title="我的朋友"
		>
			<i
				class="kirafont
					
						icon-team
					"
			></i>
			<div class="kira-list-item-content">
				我的朋友
			</div>
		</a>
		
	</div>
	<aside id="kira-sidebar">
		
			<div class="kira-widget-wrap">
	<div class="kira-widget kira-social">
		
			<a
				class="mdui-ripple"
				href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=2405544030&website=www.oicqzone.com"
				target="_blank"
				mdui-tooltip="{content: 'QQ'}"
				style="color: rgb(49, 174, 255); background-color: rgba(49, 174, 255, .1);"
			>
				<i
					class="kirafont
					
						icon-QQ
					"
				></i>
			</a>
		
			<a
				class="mdui-ripple"
				href="https://github.com/CainHappyfish/"
				target="_blank"
				mdui-tooltip="{content: 'GitHub'}"
				style="color: rgb(25, 23, 23); background-color: rgba(25, 23, 23, .15);"
			>
				<i
					class="kirafont
					
						icon-github
					"
				></i>
			</a>
		
	</div>
</div>

		
			
  <div class="kira-widget-wrap">
    <h3 class="kira-widget-title">分类</h3>
    <div class="kira-widget">
      <ul class="category-list">
        
        

        
          <li class="category-list-item">
            <a class="category-list-link" href="/categories/MVVM/">
              MVVM
            </a>
            <span class="category-list-count">7</span>
          </li>
        
          <li class="category-list-item">
            <a class="category-list-link" href="/categories/TypeScript/">
              TypeScript
            </a>
            <span class="category-list-count">2</span>
          </li>
        
          <li class="category-list-item">
            <a class="category-list-link" href="/categories/Vue/">
              Vue
            </a>
            <span class="category-list-count">2</span>
          </li>
        
          <li class="category-list-item">
            <a class="category-list-link" href="/categories/leetcode刷题/">
              leetcode刷题
            </a>
            <span class="category-list-count">2</span>
          </li>
        
          <li class="category-list-item">
            <a class="category-list-link" href="/categories/project/">
              project
            </a>
            <span class="category-list-count">2</span>
          </li>
        
          <li class="category-list-item">
            <a class="category-list-link" href="/categories/vitepress/">
              vitepress
            </a>
            <span class="category-list-count">2</span>
          </li>
        
          <li class="category-list-item">
            <a class="category-list-link" href="/categories/面筋/">
              面筋
            </a>
            <span class="category-list-count">2</span>
          </li>
        
          <li class="category-list-item">
            <a class="category-list-link" href="/categories/项目构建/">
              项目构建
            </a>
            <span class="category-list-count">3</span>
          </li>
        
      </ul>
    </div>
  </div>

		
			
	<div class="kira-widget-wrap">
		<div id="randomtagcloud" class="kira-widget tagcloud kira-rainbow">
			<a href="/tags/AI-chat/" style="font-size: 10px;">AI-chat</a> <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/Electron/" style="font-size: 10px;">Electron</a> <a href="/tags/MVVM/" style="font-size: 18px;">MVVM</a> <a href="/tags/TypeScript/" style="font-size: 16px;">TypeScript</a> <a href="/tags/Typescript/" style="font-size: 10px;">Typescript</a> <a href="/tags/Vitepress/" style="font-size: 12px;">Vitepress</a> <a href="/tags/Vue/" style="font-size: 18px;">Vue</a> <a href="/tags/Webpack/" style="font-size: 10px;">Webpack</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/express/" style="font-size: 10px;">express</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/leetcode/" style="font-size: 12px;">leetcode</a> <a href="/tags/theme-censored/" style="font-size: 12px;">theme-censored</a> <a href="/tags/vue3/" style="font-size: 14px;">vue3</a> <a href="/tags/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/" style="font-size: 10px;">代码规范</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 20px;">前端</a> <a href="/tags/%E7%97%9B%E8%8B%A6%E7%9A%84%E9%85%8D%E7%BD%AE%E9%97%AE%E9%A2%98/" style="font-size: 12px;">痛苦的配置问题</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 12px;">算法</a> <a href="/tags/%E9%9D%A2%E7%AD%8B/" style="font-size: 12px;">面筋</a> <a href="/tags/%E9%A1%B9%E7%9B%AE%E8%A7%84%E8%8C%83/" style="font-size: 10px;">项目规范</a>
		</div>
		
	</div>


		
			
	<div class="kira-widget-wrap">
		<h3 class="kira-widget-title">
			Archive
		</h3>
		<div class="kira-widget">
			<ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/">2024</a><span class="archive-list-count">22</span></li></ul>
		</div>
	</div>


		
	</aside>
	<div class="kira-copyright">
		&copy; 2024
		<a href="/">破酥 | C4iN</a>
		Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> &
		<a href="https://github.com/ch1ny/kira-hexo/" target="_blank">Kira-Hexo</a>
		<br />
		
		<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div><span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span></div><div><span id="busuanzi_container_site_uv">共接待访客<span id="busuanzi_value_site_uv"></span>位</span></div>
	</div>
</div>
<div
	class="kira-sidebar-modal"
	id="sidebar-modal"
	onclick="(function(self) {
		self.classList.remove('show');
		document.querySelector('.kira-sidebar.show#sidebar').classList.remove('show');
	})(this)"
></div>
			<div class="kira-content">
				<div id="kira-top-header"></div>
				<div class="kira-main-content">
					
<link rel="stylesheet" href="/css/kira-image.css">


<script src="/js/kira-image.js"></script>

<div class="kira-image">
    <div class="kira-image-modal">
        <div class="kira-image-header">
            <div class="kira-image-counter"></div>
            <div class="kira-image-title"></div>
            <div class="kira-image-operation">
                <div class="kira-image-operation-button" id="kira-image-operation-button-zoom">
                    <i class="kirafont icon-zoom-in"></i>
                </div>
                <div class="kira-image-operation-button" id="kira-image-operation-button-close">
                    <i class="kirafont icon-close"></i>
                </div>
            </div>
        </div>
        <div class="kira-image-container">
            <div class="kira-image-prev-button-panel">
                <div class="kira-image-exchange-button">
                    <i class="kirafont icon-left"></i>
                </div>
            </div>
            <div class="kira-image-list">
                <div class="kira-image-prev">
                    <img />
                </div>
                <div class="kira-image-now">
                    <img />
                </div>
                <div class="kira-image-next">
                    <img />
                </div>
            </div>
            <div class="kira-image-next-button-panel">
                <div class="kira-image-exchange-button">
                    <i class="kirafont icon-right"></i>
                </div>
            </div>
        </div>
    </div>
</div>

	
<link rel="stylesheet" href="/css/kira-code-copy.css">

	
<script src="/js/kira-code-copy.js"></script>


<div class="kira-post">
	<article>
		
		<div class="kira-post-cover">
			<img
				data-src="https://pic.imgdb.cn/item/66dd5cb1d9c307b7e9cfb806.jpg"
				data-sizes="auto"
				alt="javascript面筋"
				class="lazyload kira-post-cover-image disabled-kira-image"
			/>
			<h1>javascript面筋</h1>
		</div>
		
		<div class="kira-post-meta kira-rainbow" style="margin:10px 0!important;">
			<a><i class="kirafont icon-calendar-fill"></i>2024年09月06日</a>
			<a><i class="kirafont icon-edit-fill"></i>3k 字</a>
			<a><i class="kirafont icon-time-circle-fill"></i>大概 12 分钟</a>
		</div>
		<p>本文记录 Javascript 面筋。</p>
<span id="more"></span>
<h4><span id="数据类型">数据类型</span></h4>
<p><code>JavaScript</code>共有八种数据类型，分别是
<strong>Undefined、Null、Boolean、Number、String、Object、Symbol、BigInt</strong>。其中Symbol、BigInt为ES6新增，分别用于创建后独一无二且不可变的数据类型和安全地存储和操作大整数。</p>
<p><strong>堆：</strong>
存放<strong>引用数据类型</strong>，引用数据类型占据空间大、大小不固定。如果存储在栈中，将会影响程序运行的性能；<strong>引用数据类型在栈中存储了指针</strong>，该指针指向堆中该实体的起始地址，如<code>Object</code>、<code>Array</code>、<code>Function</code>。</p>
<p><strong>栈：</strong>
存放<strong>原始数据类型</strong>，栈中的简单数据段，占据空间小，属于被频繁使用的数据，如<code>String</code>、<code>Number</code>、<code>Null</code>、<code>Boolean</code>。</p>
<h4><span id="null-amp-undefined">null &amp; undefined</span></h4>
<ul>
<li><strong>undefined</strong>
代表的含义是<strong>未定义</strong>，一般变量<strong>声明了但还没有定义</strong>的时候会返回
<code>undefined</code>，<code>typeof</code>为<code>undefined</code></li>
<li><strong>null</strong>
代表的含义是<strong>空对象</strong>，null主要用于赋值给一些可能会返回对象的变量，作为初始化，<code>typeof</code>为<code>object</code></li>
</ul>
<h4><span id="instanceof-运算符的实现原理">instanceof 运算符的实现原理</span></h4>
<p><code>instanceof</code>运算符适用于检测构造函数的<code>prototype</code>属性上是否出现在某个实例对象的原型链上</p>
<p><code>instanceof</code> 运算符的原理是基于原型链的查找。当使用
<code>obj instanceof Constructor</code>
进行判断时，<code>JavaScript</code> 引擎会从 <code>obj</code>
的原型链上查找 <code>Constructor.prototype</code>
是否存在，如果存在则返回
<code>true</code>，否则继续在原型链上查找。如果查找到原型链的顶端仍然没有找到，则返回
<code>false</code>。</p>
<p><code>instanceof</code>运算符只能用于检查某个对象是否是某个构造函数的实例，不能用于基本类型的检查，如<code>string</code>、<code>number</code>等。</p>
<h4><span id="typeof-和-instanceof-区别">typeof 和 instanceof 区别</span></h4>
<p><code>typeof</code>与<code>instanceof</code>
都是判断数据类型的方法，区别如下：</p>
<ul>
<li><code>typeof</code>会返回一个<strong>运算数的基本类型</strong>，<code>instanceof</code>返回的是<strong>布尔值</strong></li>
<li><code>instanceof</code>
可以准确判断<strong>引用数据类型</strong>，但是不能正确判断<strong>原始数据类型</strong></li>
<li><code>typeof</code>虽然可以判断原始数据类型（<code>null</code>
除外），但是无法判断引用数据类型（<code>function</code> 除外）</li>
</ul>
<p>typeof判断null为object为js历史遗留问题。</p>
<blockquote>
<p>在第一版<code>JS</code>代码中用32位比特来存储值，通过值的<code>1-3</code>位来识别类型，前三位为<code>000</code>表示对象类型。而<code>null</code>是一个空值，二进制表示都为0，所以前三位也就是<code>000</code>，所以导致
<code>typeof null</code>返回 <code>"object"</code></p>
</blockquote>
<h4><span id="0102-03">0.1+0.2 ! == 0.3</span></h4>
<p>因为浮点数运算的精度问题。在计算机运行过程中，需要将数据转化成二进制，然后再进行计算。
因为浮点数自身小数位数的限制而截断的二进制在转化为十进制，就变成0.30000000000000004，所以在计算时会产生误差。</p>
<ul>
<li>将其先转换成整数，再相加之后转回小数。具体做法为先乘10相加后除以10</li>
<li>使用<code>number</code>对象的<code>toFixed</code>方法，只保留一位小数点。</li>
</ul>
<h4><span id="判断数组的方法">判断数组的方法</span></h4>
<p>其他类型也适用</p>
<ul>
<li><p>通过<code>Object.prototype.toString.call()</code>做判断</p>
<p>对于数组<code>Object.prototype.toString.call(obj)</code>返回一个字符串<code>[object Array]</code>，我们只需要将Array截取出来即可，其他类型相同。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(obj).<span class="hljs-title function_">slice</span>(<span class="hljs-number">8</span>,-<span class="hljs-number">1</span>) === <span class="hljs-string">&#x27;Array&#x27;</span>;<br></code></pre></td></tr></table></figure></li>
<li><p>通过原型链做判断<code>obj.__proto__ === Array.prototype;</code></p></li>
<li><p>通过ES6的<code>Array.isArray()</code>做判断</p></li>
<li><p>通过<code>instanceof</code>做判断</p></li>
</ul>
<h4><span id="对类数组对象的理解如何转化为数组">对类数组对象的理解，如何转化为数组</span></h4>
<p>类数组也叫<strong>伪数组</strong>，类数组和数组类似，但<strong>不能调用数组方法</strong>，常见的类数组有<strong>arguments</strong>、通过<code>document.getElements</code>获取到的内容等，这些类数组具有<code>length</code>属性。</p>
<ul>
<li><p>通过 <code>call</code> 调用数组的 <code>slice</code>
方法来实现转换</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">slice</span>.<span class="hljs-title function_">call</span>(arrayLike)<br></code></pre></td></tr></table></figure></li>
<li><p>通过 <code>call</code> 调用数组的 <code>splice</code>
方法来实现转换</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">splice</span>.<span class="hljs-title function_">call</span>(arrayLike, <span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure></li>
<li><p>通过 <code>apply</code> 调用数组的 <code>concat</code>
方法来实现转换</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">concat</span>.<span class="hljs-title function_">apply</span>([], arrayLike)<br></code></pre></td></tr></table></figure></li>
<li><p>通过 <code>Array.from</code> 方法来实现转换</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(arrayLike)<br></code></pre></td></tr></table></figure></li>
</ul>
<h4><span id="substring和substr的区别">substring和substr的区别</span></h4>
<p>它们都是字符串方法，用于截取字符串的一部分，主要区别在于参数不同</p>
<ul>
<li><code>substring(startIndex, endIndex)</code>：
接收两个参数，一个起始索引和结束索引，来指定字符串范围，如果省略第二个参数，则截取到字符串末尾。</li>
<li><code>substr(startIndex, length)</code>： 接收两个参数，并返回从
<code>startIndex</code> 开始，长度为 <code>length</code>
的子字符串。如果省略第二个参数，则截取到字符串末尾。</li>
</ul>
<h4><span id="objectassign和扩展运算法是深拷贝还是浅拷贝两者区别">object.assign和扩展运算法是深拷贝还是浅拷贝，两者区别</span></h4>
<p><strong>都是浅拷贝</strong></p>
<ul>
<li><code>Object.assign()</code>方法接收的第一个参数作为目标对象，后面的所有参数作为源对象。然后把所有的源对象合并到目标对象中。它会修改了一个对象，因此会触发
ES6 setter。</li>
<li>扩展操作符<code>...</code>使用它时，数组或对象中的每一个值都会被拷贝到一个新的数组或对象中。它不复制继承的属性或类的属性，但是它会复制ES6的
<code>symbols</code> 属性。</li>
</ul>
<h4><span id="new操作符的实现原理">new操作符的实现原理</span></h4>
<p><code>new</code>操作符用来创建一个对象，并将该对象绑定到构造函数的<code>this</code>上。</p>
<p>new操作符的执行过程：</p>
<ol type="1">
<li>创建一个空对象</li>
<li>设置原型，将构造函数的原型指向空对象的 <code>prototype</code>
属性。</li>
<li>将 <code>this</code> 指向这个对象，通过apply执行构造函数。</li>
<li>判断函数的返回值类型，如果是值类型，返回创建的对象。如果是引用类型，就返回这个引用类型的对象</li>
</ol>
<h4><span id="forin和forof的区别">for…in和for…of的区别</span></h4>
<p><code>for...in</code>和<code>for...of</code>都是<code>JavaScript</code>中的循环语句，而<code>for…of是ES6新增的遍历方式，允许遍历一个含有</code>iterator<code>接口的数据结构（数组、对象等）并且返回各项的值，和</code>ES3<code>中的</code>for…in`的区别如下</p>
<ul>
<li><code>for…of</code>遍历获取的是<strong>对象的键值</strong>，<code>for…in</code>
获取的是<strong>对象的键名</strong>；</li>
<li><code>for… in</code>
会遍历对象的<strong>整个原型链</strong>，性能非常差不推荐使用，而
<code>for … of</code> 只遍历当前对象不会遍历原型链；</li>
<li>对于数组的遍历，<code>for…in</code>
会返回数组中所有可枚举的属性(包括原型链上可枚举的属性)，<code>for…of</code>
只返回数组的下标对应的属性值；</li>
</ul>
<p><strong>总结</strong>：<code>for...in</code>
循环主要是为了遍历对象而生，不适用于遍历数组；<code>for...of</code>
循环可以用来遍历数组、类数组对象，字符串、<code>Set</code>、<code>Map</code>
以及 <code>Generator</code> 对象。</p>
<h4><span id="如何使用forof遍历对象">如何使用for…of遍历对象</span></h4>
<p><code>for…of</code>是作为ES6新增的遍历方式，能被其遍历的数据内部都有一个<strong>遍历器iterator接口</strong>，而数组、字符串、<code>Map</code>、<code>Set</code>内部已经实现，普通对象内部没有，所以在遍历的时候会报错。想要遍历对象，可以给对象添加一个<code>Symbol.iterator</code>属性，并指向一个迭代器即可。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,<br>    <span class="hljs-attr">b</span>:<span class="hljs-number">2</span>,<br>    <span class="hljs-attr">c</span>:<span class="hljs-number">3</span><br>&#125;;<br>obj[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>] = <span class="hljs-keyword">function</span>*()&#123;<br>    <span class="hljs-keyword">var</span> keys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(obj);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> k <span class="hljs-keyword">of</span> keys)&#123;<br>        <span class="hljs-keyword">yield</span> [k,obj[k]]<br>    &#125;<br>&#125;;<br><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> [k,v] <span class="hljs-keyword">of</span> obj)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(k,v);<br>&#125;<br></code></pre></td></tr></table></figure>
<h4><span id="对ajax的理解实现一个ajax请求">对AJAX的理解，实现一个AJAX请求</span></h4>
<p><code>AJAX</code>是 Asynchronous JavaScript and XML
的缩写，<strong>指的是通过 JavaScript 的 异步通信</strong>，从服务器获取
<code>XML</code>
文档从中提取数据，再更新当前网页的对应部分，而不用刷新整个网页。
创建<code>AJAX</code>请求的步骤：</p>
<ul>
<li>创建一个 <code>XMLHttpRequest</code> 对象。</li>
<li>在这个对象上使用 <code>open</code> 方法创建一个 <code>HTTP</code>
请求，<code>open</code>
方法所需要的参数是请求的方法、请求的地址、是否异步和用户的认证信息。</li>
<li>在发起请求前，可以为这个对象添加一些信息和监听函数。比如说可以通过
<code>setRequestHeader</code>
方法来为请求添加头信息。还可以为这个对象添加一个状态监听函数。一个
<code>XMLHttpRequest</code> 对象一共有 5
个状态，当它的状态变化时会触发<code>onreadystatechange</code>
事件，可以通过设置监听函数，来处理请求成功后的结果。当对象的
<code>readyState</code> 变为 4
的时候，代表服务器返回的数据接收完成，这个时候可以通过判断请求的状态，如果状态是
2xx 或者 304 的话则代表返回正常。这个时候就可以通过
<code>response</code> 中的数据来对页面进行更新了。</li>
<li>当对象的属性和监听函数设置完成后，最后调用 <code>send</code>
方法来向服务器发起请求，可以传入参数作为发送的数据体。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SERVER_URL</span> = <span class="hljs-string">&quot;/server&quot;</span>;<br><span class="hljs-keyword">let</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();<br><span class="hljs-comment">// 创建 Http 请求</span><br>xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">&quot;GET&quot;</span>, url, <span class="hljs-literal">true</span>);<br><span class="hljs-comment">// 设置状态监听函数</span><br>xhr.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">readyState</span> !== <span class="hljs-number">4</span>) <span class="hljs-keyword">return</span>;<br>  <span class="hljs-comment">// 当请求成功时</span><br>  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> === <span class="hljs-number">200</span>) &#123;<br>    <span class="hljs-title function_">handle</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">response</span>);<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">statusText</span>);<br>  &#125;<br>&#125;;<br><span class="hljs-comment">// 设置请求失败时的监听函数</span><br>xhr.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">statusText</span>);<br>&#125;;<br><span class="hljs-comment">// 设置请求头信息</span><br>xhr.<span class="hljs-property">responseType</span> = <span class="hljs-string">&quot;json&quot;</span>;<br>xhr.<span class="hljs-title function_">setRequestHeader</span>(<span class="hljs-string">&quot;Accept&quot;</span>, <span class="hljs-string">&quot;application/json&quot;</span>);<br><span class="hljs-comment">// 发送 Http 请求</span><br>xhr.<span class="hljs-title function_">send</span>(<span class="hljs-literal">null</span>);<br></code></pre></td></tr></table></figure>
<h4><span id="ajax-axios-fetch的区别">ajax、axios、fetch的区别</span></h4>
<p><strong>ajax</strong></p>
<ul>
<li>基于原生<code>XHR</code>开发，<code>XHR</code>本身架构不清晰。</li>
<li>针对<strong>MVC</strong>编程，不符合现在前端MVVM的浪潮。</li>
<li>多个请求之间如果有先后关系的话，就会出现回调地狱</li>
<li>配置和调用方式非常混乱，而且基于事件的异步模型不友好。</li>
</ul>
<p><strong>axios</strong></p>
<ul>
<li>支持<code>Promise</code> API</li>
<li>从浏览器中创建<code>XMLHttpRequest</code></li>
<li>从 <code>node.js</code> 创建 <code>http</code> 请求</li>
<li>支持请求拦截和响应拦截</li>
<li>自动转换<code>JSON</code>数据</li>
<li>客户端支持防止<code>CSRF/XSRF</code></li>
</ul>
<p><strong>fetch</strong></p>
<ul>
<li>浏览器原生实现的请求方式，ajax的替代品</li>
<li>基于标准 <code>Promise</code>
实现，支持<code>async/await</code></li>
<li><code>fetch</code>只对网络请求报错，对400，500都当做成功的请求，需要封装去处理</li>
<li>默认不会带<code>cookie</code>，需要添加配置项</li>
<li><code>fetch</code>没有办法原生监测请求的进度，而<code>XHR</code>可以。</li>
</ul>
<h4><span id="foreach和map方法">forEach和map方法</span></h4>
<p>两个方法都是用来遍历循环数组，区别如下：</p>
<ul>
<li><code>forEach()</code>对数据的操作会改变原数组，该方法没有返回值；</li>
<li><code>map()</code>方法不会改变原数组的值，<strong>返回一个新数组</strong>，新数组中的值为原数组调用函数处理之后的值；</li>
</ul>
<h4><span id="尾调用">尾调用</span></h4>
<p>尾调用就是在函数的<strong>最后一步调用函数</strong>，在一个函数里调用另外一个函数会<strong>保留当前执行的上下文</strong>，如果在函数尾部调用，因为已经是函数最后一步，所以这时可以不用保留当前的执行上下文，<strong>从而节省内存</strong>。但是ES6的尾调用只能在<strong>严格模式下开启</strong>，正常模式是无效的。</p>
<h4><span id="设计模式">设计模式</span></h4>
<p><strong>单例模式</strong>：保证类只有一个实例，并提供一个访问它的全局访问点。</p>
<p><strong>工厂模式</strong>：用来创建对象，根据不同的参数返回不同的对象实例。</p>
<p><strong>策略模式</strong>：定义一系列的算法，把它们一个个封装起来，并且使它们可以相互替换。</p>
<p><strong>装饰器模式</strong>：在不改变对象原型的基础上，对其进行包装扩展。</p>
<p><strong>观察者模式</strong>：定义了对象间一种一对多关系，当目标对象状态发生改变时，所有依赖它对对象都会得到通知。</p>
<p><strong>发布订阅模式</strong>：
基于一个主题/事件通道，希望接收通知的对象通过自定义事件订阅主题，被激活事件的对象（通过发布主题事件的方式被通知)。</p>
<h4><span id="如何实现深浅拷贝">如何实现深浅拷贝</span></h4>
<h3><span id="深拷贝">深拷贝</span></h3>
<ul>
<li><p><code>JSON.stringify()</code></p>
<p>将js对象序列化，再通过<code>JSON.parse</code>反序列</p>
<ul>
<li>如果对象中有函数、<code>undefined</code>、<code>symbol</code>时，都会丢失</li>
<li>如果有正则表达式、<code>Error</code>对象等，会得到空对象</li>
</ul></li>
<li><p>递归</p></li>
</ul>
<h3><span id="浅拷贝">浅拷贝</span></h3>
<ul>
<li><code>Objec.assign()</code> 拷贝对象</li>
<li>扩展运算符</li>
</ul>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7270471613547249699">前端铜九铁十面试必备八股文——JavaScript</a></p>
</blockquote>

	</article>

	 
    <div class="kira-post-copyright">
        <strong>Author：</strong>破酥 | C4iN<br>
        <strong>Link：</strong><a href="https://c4in1.github.io/2024/09/06/%E9%9D%A2%E7%AD%8B/javascript%E9%9D%A2%E7%AD%8B/" title="https:&#x2F;&#x2F;c4in1.github.io&#x2F;2024&#x2F;09&#x2F;06&#x2F;面筋&#x2F;javascript面筋&#x2F;" target="_blank" rel="noopener">https:&#x2F;&#x2F;c4in1.github.io&#x2F;2024&#x2F;09&#x2F;06&#x2F;面筋&#x2F;javascript面筋&#x2F;</a><br>
        
            <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可
        
    </div>

  
	<div class="kira-post-nav">
		<nav class="post-nav">
			                      
			<!-- 先找到与当前文字相同的目录 -->
			      
			<!-- 在找到当前文章所在的 index -->
			    
			<!-- 上一篇文章 -->
			<div class="old">
				<span>上一章</span>
				<a href="/2024/09/06/%E9%9D%A2%E7%AD%8B/HTML-CSS%E9%9D%A2%E7%AD%8B/"> HTML/CSS面筋</a>
			</div>
			                  
		</nav>
	</div>
	
	<div class="kira-post-meta kira-rainbow">
		
			<a class="kirafont icon-container-fill -link" href="/categories/%E9%9D%A2%E7%AD%8B/">面筋</a>
		
		
			<a class="kirafont icon-tag-fill -none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="kirafont icon-tag-fill -none-link" href="/tags/%E9%9D%A2%E7%AD%8B/" rel="tag">面筋</a>
		
	</div>
	
	<div class="kira-post-footer">
		

		
	<div class="giscus"></div>
  
    <script src="https://giscus.app/client.js"
      data-repo="C4in1/BlogGitTalk"
      data-repo-id="R_kgDOMgx61Q"
      data-category="General"
      data-category-id="DIC_kwDOMgx61c4Chec4"
      data-mapping="pathname"
      data-strict="0"
      data-reactions-enabled="1"
      data-emit-metadata="0"
      data-input-position="top"
      data-theme="light"
      data-lang="en"
      data-loading="lazy"
      crossorigin="anonymous"
      async  
    ></script>
  

	</div>
	
</div>

				</div>
			</div>
			<div class="kira-right-column">
	<a onclick="document.querySelector('#kira-top-header').scrollIntoView({behavior: 'smooth'});" class="kira-backtotop" aria-label="回到顶部" title="回到顶部">
		<button class="mdui-fab mdui-ripple">
			<i class="kirafont icon-caret-up"></i>
		</button>
	</a>
</div>

		</div>
	</body>
</html>
